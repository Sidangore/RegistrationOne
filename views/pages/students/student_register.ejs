<%- include('../../partials/header.ejs', {user: "Student", register_link: "/students/register", login_link: "/students/login"})  %>
    <!-- scripts -->
    <script>
        $(document).ready(() => {
            $(function() {
                $("#date_of_birth").datepicker({
                    dateFormat: 'dd/mm/yyyy',
                    changeMonth: true,
                    changeYear: true
                });
            });
        });
    </script>
    <div class="container card rounded" style="margin-top: 5%;">
        <div class="card-body">
            <form class="row g-3" method="POST" action="/students/register">
                <div class="col-md-4">
                    <label for="first_name" class="form-label">First name</label>
                    <input type="text" class="form-control" name="first_name" id="first_name" value="" required>
                </div>
                <div class="col-md-4">
                    <label for="last_name" class="form-label">Last name</label>
                    <input type="text" class="form-control" name="last_name" id="last_name" value="" required>
                </div>
                <div class="col-md-4">
                    <label for="validationDefaultUsername" class="form-label">Email</label>
                    <div class="input-group">
                        <span class="input-group-text" id="email">@</span>
                        <input type="text" class="form-control" id="email" name="email" aria-describedby="inputGroupPrepend2" required>
                    </div>
                </div>

                <div class="col-md-4">
                    <!-- Date input -->
                    <label class="form-label" for="date_of_birth">Date of Birth</label>
                    <input class="form-control" id="date_of_birth" name="date_of_birth" placeholder="DD/MM/YYYY" type="text" />
                    <!-- <p>Date: <input type="text" id="date_of_birth"></p> -->

                </div>
                <div class="col-md-4">
                    <label for="aadhar_number" class="form-label">Aadhar Number</label>
                    <input type="text" class="form-control" id="aadhar_number" name="aadhar_number" required>
                </div>
                <!-- ethereum address fetcher -->
                <div class="col-md-4">
                    <label for="public_address" class="form-label">Ethereum Public Address</label>
                    <input type="text" class="form-control" name="public_address" id="public_address" name="public_address" placeholder="No Account Found" required style="margin-bottom: 2%;">
                    <button role="button" class="btn btn-outline-danger" onclick="App.fetch_account();" id="fetch_metamask_button">Fetch MetaMask</button>
                    <!-- <a class="btn btn-outline-primary" onclick="" id="fetch_metamask_button" role="button">Fetch MetaMask Account</a> -->

                </div>

                <div class="col-md-4">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" name="password" required>
                </div>

                <!-- <div class="col-md-3">
                    <label for="password" class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" id="password" name="password" required>
                </div> -->

                <div class="col-12">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
                        <label class="form-check-label" for="invalidCheck2">
                      Agree to terms and conditions
                    </label>
                    </div>
                </div>
                <div class="col-12">
                    <button class="btn btn-primary" onclick="" id="register_button" type="submit">Register</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        // const fetch_metamask_button = document.getElementById('fetch_metamask_button');

        // function fetch_metamask_button_toggle() {
        //     if (!window.ethereum) {
        //         // metamsk is not installed
        //         fetch_metamask_button.innerText = 'MetaMask is not installed';
        //         fetch_metamask_button.classList.replace('btn-primary', 'btn-outline-danger');
        //         return false;
        //     }

        //     fetch_metamask_button.addEventListener('click', async() => {
        //         const public_address = await window.ethereum.request({
        //             method: 'eth_requestAccounts'
        //         });
        //         document.getElementById('public_address').value = public_address;
        //         // web3.eth.sign("Hello world", public_address).then(console.log("YOYO"));
        //     });

        // }

        // window.addEventListener('DOMContentLoaded', () => {
        //     fetch_metamask_button_toggle();
        // });
    </script>
    <script src="../pages/js/app.js"></script>
    <%- include('../../partials/footer.ejs') %>